(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{89208:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(62924)}])},11337:function(e,n,r){"use strict";r.d(n,{Z:function(){return m}});var t=r(34051),s=r.n(t),a=r(85893),c=r(11163),i=r(67294),o=r(45512),u=r(90885),l=r(31965),d=r(50727),h=r(88375),f=r(35005);function x(e){var n=e.buttonLoading,r=e.buttonOnClick;return(0,a.jsxs)(h.Z,{variant:"primary",children:[(0,a.jsx)(h.Z.Heading,{children:"Connect Account"}),(0,a.jsxs)("p",{children:["Please click connect your ",(0,a.jsx)("b",{children:"MetaMask"})," account to continue."]}),(0,a.jsx)("hr",{}),(0,a.jsx)("div",{className:"d-flex justify-content-end",children:(0,a.jsx)(f.Z,{variant:"primary",onClick:r,disabled:n,children:n?"Loading...":"Connect"})})]})}function p(e){var n=e.buttonOnClick;return(0,a.jsxs)(h.Z,{variant:"danger",children:[(0,a.jsx)(h.Z.Heading,{children:"Unexpected Error"}),(0,a.jsx)("p",{children:"Something went wrong. Please try again..."}),(0,a.jsx)("hr",{}),(0,a.jsx)("div",{className:"d-flex justify-content-end",children:(0,a.jsx)(f.Z,{variant:"danger",onClick:n,children:"Retry Again"})})]})}function v(){return(0,a.jsxs)(h.Z,{variant:"warning",children:[(0,a.jsx)(h.Z.Heading,{children:"Install MetaMask"}),(0,a.jsxs)("p",{children:["Please install ",(0,a.jsx)("b",{children:"MetaMask"})," browser extension to continue."]}),(0,a.jsx)("hr",{}),(0,a.jsxs)("div",{className:"d-flex gap-3 justify-content-end",children:[(0,a.jsx)(f.Z,{href:"https://metamask.io/download/",target:"_blank",variant:"warning",children:"Install MetaMask"}),(0,a.jsx)(f.Z,{variant:"outline-dark",onClick:function(){return window.location.reload()},children:"Reload"})]})]})}function j(e,n,r,t,s,a,c){try{var i=e[a](c),o=i.value}catch(u){return void r(u)}i.done?n(o):Promise.resolve(o).then(t,s)}function m(e){var n=e.children,r=(0,i.useRef)(!1),t=(0,c.useRouter)().query.autoComplete,h=(0,i.useContext)(d.Z),f=(0,i.useState)(l.j4.DEFAULT),m=f[0],y=f[1],g=(0,u.s4)(),b=(0,i.useState)(!1),w=b[0],C=b[1],N=function(){var e,n=(e=s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(l.j4.CONNECTING),e.prev=1,e.next=4,(0,o.G)();case 4:(n=e.sent)?(h.setAccount({addressId:n}),y(l.j4.CONNECTED)):y(l.j4.ERROR),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),y(l.j4.ERROR);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})),function(){var n=this,r=arguments;return new Promise((function(t,s){var a=e.apply(n,r);function c(e){j(a,t,s,c,i,"next",e)}function i(e){j(a,t,s,c,i,"throw",e)}c(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,i.useEffect)((function(){!function(){var e=window.ethereum,n=Boolean(e&&e.isMetaMask);C(n)}(),h.account&&y(l.j4.CONNECTED)}),[h.account]),(0,i.useEffect)((function(){r.current||"1"!==t||h.account||(r.current=!0,N())}),[t,h.account]),g?w?m===l.j4.ERROR?(0,a.jsx)(p,{buttonOnClick:N}):m!==l.j4.CONNECTED?(0,a.jsx)(x,{buttonOnClick:N,buttonLoading:m===l.j4.CONNECTING}):(0,a.jsx)(a.Fragment,{children:n}):(0,a.jsx)(v,{}):null}},90885:function(e,n,r){"use strict";r.d(n,{$s:function(){return h},MK:function(){return d},s4:function(){return l}});var t=r(34051),s=r.n(t),a=r(67294),c=r(50727),i=r(97331),o=r(31965);function u(e,n,r,t,s,a,c){try{var i=e[a](c),o=i.value}catch(u){return void r(u)}i.done?n(o):Promise.resolve(o).then(t,s)}function l(){var e=(0,a.useState)(!1),n=e[0],r=e[1];return(0,a.useEffect)((function(){r(!0)}),[]),n}function d(){var e;return null===(e=(0,a.useContext)(c.Z).account)||void 0===e?void 0:e.addressId}function h(){var e=(0,a.useContext)(c.Z),n=e.hasListings,r=(0,a.useState)(o.M.DEFAULT),t=r[0],l=r[1],d=function(){var n,r=(n=s().mark((function n(){var r,t,a;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,l(o.M.LOADING),n.next=4,(0,i.N)();case 4:for(r=n.sent,t=[],a=0;a<16;a++)t.push({id:r.datatype.uuid(),name:r.company.companyName(),country:r.address.country(),contractAddress:r.finance.ethereumAddress(),description:r.lorem.sentences(),listedBy:r.finance.ethereumAddress(),imageUrl:r.image.city(0,0,!0)});e.setListings(t),e.setHasListings(!0),l(o.M.SUCCESS),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(0),console.error(n.t0),l(o.M.ERROR);case 16:case"end":return n.stop()}}),n,null,[[0,12]])})),function(){var e=this,r=arguments;return new Promise((function(t,s){var a=n.apply(e,r);function c(e){u(a,t,s,c,i,"next",e)}function i(e){u(a,t,s,c,i,"throw",e)}c(void 0)}))});return function(){return r.apply(this,arguments)}}();return(0,a.useEffect)((function(){n||d()}),[n]),[t,e.listings]}},45512:function(e,n,r){"use strict";r.d(n,{G:function(){return u},u:function(){return d}});var t=r(34051),s=r.n(t),a=r(97331),c=r(58038);function i(e,n,r,t,s,a,c){try{var i=e[a](c),o=i.value}catch(u){return void r(u)}i.done?n(o):Promise.resolve(o).then(t,s)}function o(e){return function(){var n=this,r=arguments;return new Promise((function(t,s){var a=e.apply(n,r);function c(e){i(a,t,s,c,o,"next",e)}function o(e){i(a,t,s,c,o,"throw",e)}c(void 0)}))}}function u(){return l.apply(this,arguments)}function l(){return(l=o(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:return n=e.sent,e.abrupt("return",n[0]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return h.apply(this,arguments)}function h(){return(h=o(s().mark((function e(n){var r,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.l)();case 2:return r=e.sent,t=new r(window.ethereum),e.abrupt("return",new t.eth.Contract(c.p2,c.ez,n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},97331:function(e,n,r){"use strict";r.d(n,{N:function(){return u},l:function(){return i}});var t=r(34051),s=r.n(t);function a(e,n,r,t,s,a,c){try{var i=e[a](c),o=i.value}catch(u){return void r(u)}i.done?n(o):Promise.resolve(o).then(t,s)}function c(e){return function(){var n=this,r=arguments;return new Promise((function(t,s){var c=e.apply(n,r);function i(e){a(c,t,s,i,o,"next",e)}function o(e){a(c,t,s,i,o,"throw",e)}i(void 0)}))}}function i(){return o.apply(this,arguments)}function o(){return(o=c(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(482),r.e(714),r.e(389),r.e(309)]).then(r.t.bind(r,3283,23));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return l.apply(this,arguments)}function l(){return(l=c(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(778),r.e(285),r.e(98),r.e(137),r.e(544)]).then(r.bind(r,67544));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},62924:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return S}});var t=r(85893),s=r(34051),a=r.n(s),c=r(67294),i=r(88375),o=r(11676),u=r(35005),l=r(58038),d=r(50727),h=r(45512),f=r(31965);function x(e,n,r,t,s,a,c){try{var i=e[a](c),o=i.value}catch(u){return void r(u)}i.done?n(o):Promise.resolve(o).then(t,s)}function p(){var e=(0,c.useContext)(d.Z),n=(0,c.useState)(f.M.DEFAULT),r=n[0],s=n[1],p=(0,c.useState)(""),v=p[0],j=p[1],m=(0,c.useState)(""),y=m[0],g=m[1],b=(0,c.useState)(1),w=b[0],C=b[1],N=(0,c.useState)(1),Z=N[0],R=N[1],M=(0,c.useState)("1"),S=M[0],k=M[1],E=(0,c.useState)(0),O=E[0],I=E[1],P=function(){var n,r=(n=a().mark((function n(){var r,t,c;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s(f.M.LOADING),n.next=5,(0,h.u)({from:null===(r=e.account)||void 0===r?void 0:r.addressId,gas:l.pl});case 5:return t=n.sent,n.next=8,t.methods.createProperty(w,Z,S,O).send();case 8:c=n.sent,j(JSON.stringify(c)),s(f.M.SUCCESS),n.next=18;break;case 13:n.prev=13,n.t0=n.catch(0),console.error(n.t0),s(f.M.ERROR),g(n.t0.message);case 18:case"end":return n.stop()}}),n,null,[[0,13]])})),function(){var e=this,r=arguments;return new Promise((function(t,s){var a=n.apply(e,r);function c(e){x(a,t,s,c,i,"next",e)}function i(e){x(a,t,s,c,i,"throw",e)}c(void 0)}))});return function(){return r.apply(this,arguments)}}(),A=(0,c.useMemo)((function(){switch(r){case f.M.LOADING:return"Waiting...";case f.M.ERROR:return"Try Again";default:return"Create Property"}}),[r]);return(0,t.jsxs)(i.Z,{variant:"secondary",children:[(0,t.jsx)(i.Z.Heading,{children:"Create Property"}),(0,t.jsx)("p",{children:"Create a new property to be listed in the marketplace."}),(0,t.jsxs)(o.Z,{children:[(0,t.jsxs)(o.Z.Group,{className:"mb-3",controlId:"addressId",children:[(0,t.jsx)(o.Z.Label,{children:"Property Price:"}),(0,t.jsx)(o.Z.Control,{type:"number",value:w,onChange:function(e){return C(Number(e.target.value))}})]}),(0,t.jsxs)(o.Z.Group,{className:"mb-3",controlId:"addressId",children:[(0,t.jsx)(o.Z.Label,{children:"Listing ID:"}),(0,t.jsx)(o.Z.Control,{type:"number",value:Z,onChange:function(e){return R(Number(e.target.value))}})]}),(0,t.jsxs)(o.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,t.jsx)(o.Z.Label,{children:"Pin Code:"}),(0,t.jsx)(o.Z.Control,{type:"text",value:S,onChange:function(e){return k(e.target.value)}})]}),(0,t.jsxs)(o.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,t.jsx)(o.Z.Label,{children:"Property Shares Supply:"}),(0,t.jsx)(o.Z.Control,{type:"number",value:O,onChange:function(e){return I(Number(e.target.value))}})]})]}),v&&(0,t.jsxs)("p",{className:"text-break",children:["Message received: ",(0,t.jsx)("b",{children:v})]}),(0,t.jsx)("hr",{}),r===f.M.ERROR&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-danger",children:"Oops! Something went wrong..."}),(0,t.jsx)("p",{className:"text-danger",children:y})]}),(0,t.jsx)("div",{className:"d-flex justify-content-end",children:(0,t.jsx)(u.Z,{variant:"secondary",onClick:P,disabled:r===f.M.LOADING,children:A})})]})}var v=r(11337);function j(e,n,r,t,s,a,c){try{var i=e[a](c),o=i.value}catch(u){return void r(u)}i.done?n(o):Promise.resolve(o).then(t,s)}function m(e){return function(){var n=this,r=arguments;return new Promise((function(t,s){var a=e.apply(n,r);function c(e){j(a,t,s,c,i,"next",e)}function i(e){j(a,t,s,c,i,"throw",e)}c(void 0)}))}}function y(){var e=(0,c.useContext)(d.Z),n=(0,c.useState)(f.M.DEFAULT),r=n[0],s=n[1],o=(0,c.useState)(0),l=o[0],x=o[1],p=(0,c.useState)(!1),v=p[0],j=p[1],y=(0,c.useState)(""),g=y[0],b=y[1],w=function(){var n=m(a().mark((function n(){var r,t,c,i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s(f.M.LOADING),n.next=5,(0,h.u)();case 5:return t=n.sent,c=null===(r=e.account)||void 0===r?void 0:r.addressId,n.next=9,t.methods.balanceOf(c).call();case 9:i=n.sent,x(i||0),j(!0),s(f.M.SUCCESS),n.next=20;break;case 15:n.prev=15,n.t0=n.catch(0),console.error(n.t0),s(f.M.ERROR),b(n.t0.message);case 20:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(){return n.apply(this,arguments)}}(),C=function(){var e=m(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.u)();case 2:e.sent.events.Transfer({filter:{value:[]},fromBlock:0}).on("data",w);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=(0,c.useMemo)((function(){switch(r){case f.M.LOADING:return"Waiting...";case f.M.ERROR:return"Try Again";default:return"Refresh Balance"}}),[r]);return(0,c.useEffect)((function(){w(),C()}),[]),(0,t.jsxs)(i.Z,{variant:"primary",className:"sticky-top",children:[(0,t.jsx)(i.Z.Heading,{children:"Property Shares"}),(0,t.jsxs)("p",{className:"text-break",children:["Balance: ",(0,t.jsx)("b",{children:v?l:"----"})]}),(0,t.jsx)("hr",{}),r===f.M.ERROR&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-danger",children:"Oops! Something went wrong..."}),(0,t.jsx)("p",{className:"text-danger",children:g})]}),(0,t.jsx)("div",{className:"d-flex justify-content-end",children:(0,t.jsx)(u.Z,{variant:"primary",onClick:w,disabled:r===f.M.LOADING,children:N})})]})}var g=r(90885);function b(e,n,r,t,s,a,c){try{var i=e[a](c),o=i.value}catch(u){return void r(u)}i.done?n(o):Promise.resolve(o).then(t,s)}function w(){var e=(0,g.MK)(),n=(0,c.useState)(f.M.DEFAULT),r=n[0],s=n[1],d=(0,c.useState)(""),x=d[0],p=d[1],v=(0,c.useState)(""),j=v[0],m=v[1],y=(0,c.useState)(0),w=y[0],C=y[1],N=function(){var n,r=(n=a().mark((function n(){var r,t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s(f.M.LOADING),p(""),m(""),n.next=6,(0,h.u)({from:e,gas:l.pl});case 6:return r=n.sent,n.next=9,r.methods.releaseDividend().send({value:w,gas:5e4});case 9:t=n.sent,C(0),p(JSON.stringify(t)),s(f.M.SUCCESS),n.next=20;break;case 15:n.prev=15,n.t0=n.catch(0),console.error(n.t0),s(f.M.ERROR),m(n.t0.message);case 20:case"end":return n.stop()}}),n,null,[[0,15]])})),function(){var e=this,r=arguments;return new Promise((function(t,s){var a=n.apply(e,r);function c(e){b(a,t,s,c,i,"next",e)}function i(e){b(a,t,s,c,i,"throw",e)}c(void 0)}))});return function(){return r.apply(this,arguments)}}(),Z=(0,c.useMemo)((function(){switch(r){case f.M.LOADING:return"Waiting...";case f.M.ERROR:return"Try Again";default:return"Release Dividends"}}),[r]);return(0,t.jsxs)(i.Z,{variant:"secondary",children:[(0,t.jsx)(i.Z.Heading,{children:"Release Dividends"}),(0,t.jsx)("p",{children:"Release dividends to existing property share holders."}),(0,t.jsx)(o.Z,{children:(0,t.jsxs)(o.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,t.jsx)(o.Z.Label,{children:"Dividend amount:"}),(0,t.jsx)(o.Z.Control,{type:"number",value:w,onChange:function(e){return C(Number(e.target.value))}})]})}),x&&(0,t.jsxs)("p",{className:"text-break",children:["Message received: ",(0,t.jsx)("b",{children:x})]}),(0,t.jsx)("hr",{}),r===f.M.ERROR&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-danger",children:"Oops! Something went wrong..."}),(0,t.jsx)("p",{className:"text-danger text-break",children:j})]}),(0,t.jsx)("div",{className:"d-flex justify-content-end",children:(0,t.jsx)(u.Z,{variant:"secondary",onClick:N,disabled:r===f.M.LOADING,children:Z})})]})}function C(e,n,r,t,s,a,c){try{var i=e[a](c),o=i.value}catch(u){return void r(u)}i.done?n(o):Promise.resolve(o).then(t,s)}function N(){var e=(0,c.useContext)(d.Z),n=(0,c.useState)(f.M.DEFAULT),r=n[0],s=n[1],x=(0,c.useState)(""),p=x[0],v=x[1],j=(0,c.useState)(""),m=j[0],y=j[1],g=(0,c.useState)(l.cX),b=g[0],w=g[1],N=(0,c.useState)(""),Z=N[0],R=N[1],M=(0,c.useState)(0),S=M[0],k=M[1],E=function(){var n,r=(n=a().mark((function n(){var r,t,c;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s(f.M.LOADING),v(""),y(""),n.next=7,(0,h.u)({from:null===(r=e.account)||void 0===r?void 0:r.addressId,gas:l.pl});case 7:return t=n.sent,n.next=10,t.methods.transferToken(Z,S,b).send();case 10:c=n.sent,w(0),R(""),k(0),v(JSON.stringify(c)),s(f.M.SUCCESS),n.next=23;break;case 18:n.prev=18,n.t0=n.catch(0),console.error(n.t0),s(f.M.ERROR),y(n.t0.message);case 23:case"end":return n.stop()}}),n,null,[[0,18]])})),function(){var e=this,r=arguments;return new Promise((function(t,s){var a=n.apply(e,r);function c(e){C(a,t,s,c,i,"next",e)}function i(e){C(a,t,s,c,i,"throw",e)}c(void 0)}))});return function(){return r.apply(this,arguments)}}(),O=(0,c.useMemo)((function(){switch(r){case f.M.LOADING:return"Waiting...";case f.M.ERROR:return"Try Again";default:return"Transfer Property Shares"}}),[r]);return(0,t.jsxs)(i.Z,{variant:"secondary",children:[(0,t.jsx)(i.Z.Heading,{children:"Transfer Property Shares"}),(0,t.jsx)("p",{children:"Transfer your shares from your existing properties to another owner."}),(0,t.jsx)("p",{children:(0,t.jsxs)("ul",{children:[(0,t.jsxs)("li",{children:["Arijit's wallet address -"," ",(0,t.jsx)("b",{children:"0x6F529b138Eb5d99ff8b2691BCBF0129a5dAe7679"})]}),(0,t.jsxs)("li",{children:["Ketan's wallet address -"," ",(0,t.jsx)("b",{children:"0xe31058855f1b75f52498d4004C6fb3d3D4F06C5A"})]}),(0,t.jsxs)("li",{children:["Sud's wallet address -"," ",(0,t.jsx)("b",{children:"0xe20517bdef7b9dE86225dA8ACd981fa992974729"})]})]})}),(0,t.jsxs)(o.Z,{children:[(0,t.jsxs)(o.Z.Group,{className:"mb-3",controlId:"addressId",children:[(0,t.jsx)(o.Z.Label,{children:"Listing ID:"}),(0,t.jsx)(o.Z.Control,{type:"number",value:b,onChange:function(e){return w(Number(e.target.value))}})]}),(0,t.jsxs)(o.Z.Group,{className:"mb-3",controlId:"addressId",children:[(0,t.jsx)(o.Z.Label,{children:"Transfer to:"}),(0,t.jsx)(o.Z.Control,{type:"text",value:Z,onChange:function(e){return R(e.target.value)}})]}),(0,t.jsxs)(o.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,t.jsx)(o.Z.Label,{children:"Transfer amount / Quantity of shares:"}),(0,t.jsx)(o.Z.Control,{type:"number",value:S,onChange:function(e){return k(Number(e.target.value))}})]})]}),p&&(0,t.jsxs)("p",{className:"text-break",children:["Message received: ",(0,t.jsx)("b",{children:p})]}),(0,t.jsx)("hr",{}),r===f.M.ERROR&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-danger",children:"Oops! Something went wrong..."}),(0,t.jsx)("p",{className:"text-danger text-break",children:m})]}),(0,t.jsx)("div",{className:"d-flex justify-content-end",children:(0,t.jsx)(u.Z,{variant:"secondary",onClick:E,disabled:r===f.M.LOADING,children:O})})]})}var Z=r(41664),R=r.n(Z);function M(){var e=(0,c.useContext)(d.Z).account;return(0,t.jsx)("div",{children:(0,t.jsxs)(i.Z,{variant:"success",children:[(0,t.jsx)(i.Z.Heading,{children:"Welcome!"}),(0,t.jsx)("p",{children:"Please can now browse and buy properties in our marketplace."}),(0,t.jsxs)("p",{children:["Your wallet address is: ",(0,t.jsx)("b",{children:null===e||void 0===e?void 0:e.addressId})]}),(0,t.jsxs)("p",{children:["Property token smart contract address: ",(0,t.jsx)("b",{children:l.ez})]}),(0,t.jsx)("hr",{}),(0,t.jsx)("div",{className:"d-flex justify-content-end",children:(0,t.jsx)(R(),{href:f.Z5.PROPERTIES,passHref:!0,children:(0,t.jsx)(u.Z,{variant:"outline-success",children:"Browse Properties"})})})]})})}function S(){return(0,t.jsxs)(v.Z,{children:[(0,t.jsx)(M,{}),(0,t.jsx)(y,{}),(0,t.jsx)(p,{}),(0,t.jsx)(N,{}),(0,t.jsx)(w,{})]})}}},function(e){e.O(0,[6,774,888,179],(function(){return n=89208,e(e.s=n);var n}));var n=e.O();_N_E=n}]);