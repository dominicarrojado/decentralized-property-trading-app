(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{89208:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(41255)}])},41255:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return q}});var r=t(85893),a=t(34051),s=t.n(a),i=t(67294),c=t(94184),o=t.n(c),u=t(15446),l=t(78146),d=t(71819),h=t(76792),f=t(41068),v=t(41485),x=t(39602),p=t(66611);const j=(0,x.Z)("h4");j.displayName="DivStyledAsH4";const w=(0,p.Z)("alert-heading",{Component:j}),m=(0,p.Z)("alert-link",{Component:d.Z}),C={variant:"primary",show:!0,transition:f.Z,closeLabel:"Close alert"},b=i.forwardRef(((n,e)=>{const{bsPrefix:t,show:a,closeLabel:s,closeVariant:i,className:c,children:d,variant:x,onClose:p,dismissible:j,transition:w,...m}=(0,u.Ch)(n,{show:"onClose"}),C=(0,h.vE)(t,"alert"),b=(0,l.Z)((n=>{p&&p(!1,n)})),N=!0===w?f.Z:w,y=(0,r.jsxs)("div",{role:"alert",...N?void 0:m,ref:e,className:o()(c,C,x&&`${C}-${x}`,j&&`${C}-dismissible`),children:[j&&(0,r.jsx)(v.Z,{onClick:b,"aria-label":s,variant:i}),d]});return N?(0,r.jsx)(N,{unmountOnExit:!0,...m,ref:void 0,in:a,children:y}):a?y:null}));b.displayName="Alert",b.defaultProps=C;var N=Object.assign(b,{Link:m,Heading:w}),y=t(70861);const k=i.forwardRef((({as:n,bsPrefix:e,variant:t,size:a,active:s,className:i,...c},u)=>{const l=(0,h.vE)(e,"btn"),[d,{tagName:f}]=(0,y.FT)({tagName:n,...c}),v=f;return(0,r.jsx)(v,{...d,...c,ref:u,className:o()(i,l,s&&"active",t&&`${l}-${t}`,a&&`${l}-${a}`,c.href&&c.disabled&&"disabled")})}));k.displayName="Button",k.defaultProps={variant:"primary",active:!1,disabled:!1};var g=k,E=t(58038);function O(n,e,t,r,a,s,i){try{var c=n[s](i),o=c.value}catch(u){return void t(u)}c.done?e(o):Promise.resolve(o).then(r,a)}function M(n){return function(){var e=this,t=arguments;return new Promise((function(r,a){var s=n.apply(e,t);function i(n){O(s,r,a,i,c,"next",n)}function c(n){O(s,r,a,i,c,"throw",n)}i(void 0)}))}}function R(){return P.apply(this,arguments)}function P(){return(P=M(s().mark((function n(){var e;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:return e=n.sent,n.abrupt("return",e[0]);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function _(){return A.apply(this,arguments)}function A(){return(A=M(s().mark((function n(){var e,r;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([t.e(482),t.e(714),t.e(389),t.e(309)]).then(t.t.bind(t,3283,23));case 2:return e=n.sent.default,r=new e(window.ethereum),n.abrupt("return",new r.eth.Contract(E.p2,E.ez));case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var L=t(31965);function T(n,e,t,r,a,s,i){try{var c=n[s](i),o=c.value}catch(u){return void t(u)}c.done?e(o):Promise.resolve(o).then(r,a)}function S(){var n=(0,i.useState)(L.M.DEFAULT),e=n[0],t=n[1],a=(0,i.useState)(""),c=a[0],o=a[1],u=function(){var n,e=(n=s().mark((function n(){var e,r;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t(L.M.LOADING),n.next=4,_();case 4:return e=n.sent,n.next=7,e.methods.getMessage().call();case 7:r=n.sent,o(r),t(L.M.SUCCESS),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(0),console.error(n.t0),t(L.M.ERROR);case 16:case"end":return n.stop()}}),n,null,[[0,12]])})),function(){var e=this,t=arguments;return new Promise((function(r,a){var s=n.apply(e,t);function i(n){T(s,r,a,i,c,"next",n)}function c(n){T(s,r,a,i,c,"throw",n)}i(void 0)}))});return function(){return e.apply(this,arguments)}}(),l=(0,i.useMemo)((function(){switch(e){case L.M.LOADING:return"Waiting...";case L.M.ERROR:return"Try Again";default:return"Get Message"}}),[e]);return(0,r.jsxs)(N,{variant:"secondary",children:[(0,r.jsx)(N.Heading,{children:"Contract Caller"}),(0,r.jsx)("p",{children:"Let's see if we can interact with the contract."}),c&&(0,r.jsxs)("p",{children:["Message received: ",(0,r.jsx)("b",{children:c})]}),(0,r.jsx)("hr",{}),(0,r.jsx)("div",{className:"d-flex justify-content-end",children:(0,r.jsx)(g,{variant:"secondary",onClick:u,disabled:e===L.M.LOADING,children:l})})]})}var Z=t(50727);function I(n){var e=n.buttonLoading,t=n.buttonOnClick;return(0,r.jsxs)(N,{variant:"primary",children:[(0,r.jsx)(N.Heading,{children:"Connect Account"}),(0,r.jsxs)("p",{children:["Please click connect your ",(0,r.jsx)("b",{children:"MetaMask"})," account to continue."]}),(0,r.jsx)("hr",{}),(0,r.jsx)("div",{className:"d-flex justify-content-end",children:(0,r.jsx)(g,{variant:"primary",onClick:t,disabled:e,children:e?"Loading...":"Connect"})})]})}function D(n){var e=n.buttonOnClick;return(0,r.jsxs)(N,{variant:"danger",children:[(0,r.jsx)(N.Heading,{children:"Unexpected Error"}),(0,r.jsx)("p",{children:"Something went wrong. Please try again..."}),(0,r.jsx)("hr",{}),(0,r.jsx)("div",{className:"d-flex justify-content-end",children:(0,r.jsx)(g,{variant:"danger",onClick:e,children:"Retry Again"})})]})}function H(){return(0,r.jsxs)(N,{variant:"warning",children:[(0,r.jsx)(N.Heading,{children:"Install MetaMask"}),(0,r.jsxs)("p",{children:["Please install ",(0,r.jsx)("b",{children:"MetaMask"})," browser extension to continue."]}),(0,r.jsx)("hr",{}),(0,r.jsxs)("div",{className:"d-flex gap-3 justify-content-end",children:[(0,r.jsx)(g,{href:"https://metamask.io/download/",target:"_blank",variant:"warning",children:"Install MetaMask"}),(0,r.jsx)(g,{variant:"outline-dark",onClick:function(){return window.location.reload()},children:"Reload"})]})]})}function $(n,e,t,r,a,s,i){try{var c=n[s](i),o=c.value}catch(u){return void t(u)}c.done?e(o):Promise.resolve(o).then(r,a)}function G(n){var e=n.children,t=(0,i.useContext)(Z.Z),a=(0,i.useState)(L.j4.DEFAULT),c=a[0],o=a[1],u=function(){var n=(0,i.useState)(!1),e=n[0],t=n[1];return(0,i.useEffect)((function(){t(!0)}),[]),e}(),l=(0,i.useState)(!1),d=l[0],h=l[1],f=function(){var n,e=(n=s().mark((function n(){var e;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o(L.j4.CONNECTING),n.prev=1,n.next=4,R();case 4:(e=n.sent)?(t.setAccount({addressId:e}),o(L.j4.CONNECTED)):o(L.j4.ERROR),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),console.error(n.t0),o(L.j4.ERROR);case 12:case"end":return n.stop()}}),n,null,[[1,8]])})),function(){var e=this,t=arguments;return new Promise((function(r,a){var s=n.apply(e,t);function i(n){$(s,r,a,i,c,"next",n)}function c(n){$(s,r,a,i,c,"throw",n)}i(void 0)}))});return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){!function(){var n=window.ethereum,e=Boolean(n&&n.isMetaMask);h(e)}(),t.account&&o(L.j4.CONNECTED)}),[t.account]),u?d?c===L.j4.ERROR?(0,r.jsx)(D,{buttonOnClick:f}):c!==L.j4.CONNECTED?(0,r.jsx)(I,{buttonOnClick:f,buttonLoading:c===L.j4.CONNECTING}):(0,r.jsx)(r.Fragment,{children:e}):(0,r.jsx)(H,{}):null}var F=t(41664),U=t.n(F);function B(){var n=(0,i.useContext)(Z.Z).account;return(0,r.jsx)("div",{children:(0,r.jsxs)(N,{variant:"success",children:[(0,r.jsx)(N.Heading,{children:"Welcome!"}),(0,r.jsx)("p",{children:"Please can now browse and buy properties in our marketplace."}),(0,r.jsxs)("p",{children:["Your address is: ",(0,r.jsx)("b",{children:null===n||void 0===n?void 0:n.addressId})]}),(0,r.jsx)("hr",{}),(0,r.jsx)("div",{className:"d-flex justify-content-end",children:(0,r.jsx)(U(),{href:L.Z5.PROPERTIES,passHref:!0,children:(0,r.jsx)(g,{variant:"outline-success",children:"Browse Properties"})})})]})})}function q(){return(0,r.jsxs)(G,{children:[(0,r.jsx)(B,{}),(0,r.jsx)(S,{})]})}}},function(n){n.O(0,[774,888,179],(function(){return e=89208,n(n.s=e);var e}));var e=n.O();_N_E=e}]);