(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{89208:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(42e3)}])},11337:function(e,n,r){"use strict";r.d(n,{Z:function(){return j}});var t=r(34051),s=r.n(t),a=r(85893),i=r(67294),o=r(45512),c=r(90885),u=r(31965),l=r(50727),d=r(88375),f=r(35005);function h(e){var n=e.buttonLoading,r=e.buttonOnClick;return(0,a.jsxs)(d.Z,{variant:"primary",children:[(0,a.jsx)(d.Z.Heading,{children:"Connect Account"}),(0,a.jsxs)("p",{children:["Please click connect your ",(0,a.jsx)("b",{children:"MetaMask"})," account to continue."]}),(0,a.jsx)("hr",{}),(0,a.jsx)("div",{className:"d-flex justify-content-end",children:(0,a.jsx)(f.Z,{variant:"primary",onClick:r,disabled:n,children:n?"Loading...":"Connect"})})]})}function p(e){var n=e.buttonOnClick;return(0,a.jsxs)(d.Z,{variant:"danger",children:[(0,a.jsx)(d.Z.Heading,{children:"Unexpected Error"}),(0,a.jsx)("p",{children:"Something went wrong. Please try again..."}),(0,a.jsx)("hr",{}),(0,a.jsx)("div",{className:"d-flex justify-content-end",children:(0,a.jsx)(f.Z,{variant:"danger",onClick:n,children:"Retry Again"})})]})}function x(){return(0,a.jsxs)(d.Z,{variant:"warning",children:[(0,a.jsx)(d.Z.Heading,{children:"Install MetaMask"}),(0,a.jsxs)("p",{children:["Please install ",(0,a.jsx)("b",{children:"MetaMask"})," browser extension to continue."]}),(0,a.jsx)("hr",{}),(0,a.jsxs)("div",{className:"d-flex gap-3 justify-content-end",children:[(0,a.jsx)(f.Z,{href:"https://metamask.io/download/",target:"_blank",variant:"warning",children:"Install MetaMask"}),(0,a.jsx)(f.Z,{variant:"outline-dark",onClick:function(){return window.location.reload()},children:"Reload"})]})]})}function v(e,n,r,t,s,a,i){try{var o=e[a](i),c=o.value}catch(u){return void r(u)}o.done?n(c):Promise.resolve(c).then(t,s)}function j(e){var n=e.children,r=(0,i.useContext)(l.Z),t=(0,i.useState)(u.j4.DEFAULT),d=t[0],f=t[1],j=(0,c.s4)(),m=(0,i.useState)(!1),y=m[0],w=m[1],C=function(){var e,n=(e=s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(u.j4.CONNECTING),e.prev=1,e.next=4,(0,o.G)();case 4:(n=e.sent)?(r.setAccount({addressId:n}),f(u.j4.CONNECTED)):f(u.j4.ERROR),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),f(u.j4.ERROR);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})),function(){var n=this,r=arguments;return new Promise((function(t,s){var a=e.apply(n,r);function i(e){v(a,t,s,i,o,"next",e)}function o(e){v(a,t,s,i,o,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,i.useEffect)((function(){!function(){var e=window.ethereum,n=Boolean(e&&e.isMetaMask);w(n)}(),r.account&&f(u.j4.CONNECTED)}),[r.account]),j?y?d===u.j4.ERROR?(0,a.jsx)(p,{buttonOnClick:C}):d!==u.j4.CONNECTED?(0,a.jsx)(h,{buttonOnClick:C,buttonLoading:d===u.j4.CONNECTING}):(0,a.jsx)(a.Fragment,{children:n}):(0,a.jsx)(x,{}):null}},90885:function(e,n,r){"use strict";r.d(n,{$s:function(){return f},s4:function(){return d}});var t=r(34051),s=r.n(t),a=r(67294),i=r(50727),o=(r(45512),r(97331)),c=r(31965);function u(e,n,r,t,s,a,i){try{var o=e[a](i),c=o.value}catch(u){return void r(u)}o.done?n(c):Promise.resolve(c).then(t,s)}function l(e){return function(){var n=this,r=arguments;return new Promise((function(t,s){var a=e.apply(n,r);function i(e){u(a,t,s,i,o,"next",e)}function o(e){u(a,t,s,i,o,"throw",e)}i(void 0)}))}}function d(){var e=(0,a.useState)(!1),n=e[0],r=e[1];return(0,a.useEffect)((function(){r(!0)}),[]),n}function f(){var e=(0,a.useContext)(i.Z),n=e.hasListings,r=(0,a.useState)(c.M.DEFAULT),t=r[0],u=r[1],d=function(){var n=l(s().mark((function n(){var r,t,a;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,u(c.M.LOADING),n.next=4,(0,o.N)();case 4:for(r=n.sent,t=[],a=0;a<16;a++)t.push({id:r.datatype.uuid(),name:r.company.companyName(),country:r.address.country(),contractAddress:r.finance.ethereumAddress(),description:r.lorem.sentences(),listedBy:r.finance.ethereumAddress(),imageUrl:r.image.city(0,0,!0)});e.setListings(t),e.setHasListings(!0),u(c.M.SUCCESS),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(0),console.error(n.t0),u(c.M.ERROR);case 16:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(){return n.apply(this,arguments)}}();return(0,a.useEffect)((function(){n||d()}),[n]),[t,e.listings]}},45512:function(e,n,r){"use strict";r.d(n,{G:function(){return u},u:function(){return d}});var t=r(34051),s=r.n(t),a=r(97331),i=r(58038);function o(e,n,r,t,s,a,i){try{var o=e[a](i),c=o.value}catch(u){return void r(u)}o.done?n(c):Promise.resolve(c).then(t,s)}function c(e){return function(){var n=this,r=arguments;return new Promise((function(t,s){var a=e.apply(n,r);function i(e){o(a,t,s,i,c,"next",e)}function c(e){o(a,t,s,i,c,"throw",e)}i(void 0)}))}}function u(){return l.apply(this,arguments)}function l(){return(l=c(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:return n=e.sent,e.abrupt("return",n[0]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=c(s().mark((function e(n){var r,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.l)();case 2:return r=e.sent,t=new r(window.ethereum),e.abrupt("return",new t.eth.Contract(i.p2,i.ez,n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},97331:function(e,n,r){"use strict";r.d(n,{N:function(){return u},l:function(){return o}});var t=r(34051),s=r.n(t);function a(e,n,r,t,s,a,i){try{var o=e[a](i),c=o.value}catch(u){return void r(u)}o.done?n(c):Promise.resolve(c).then(t,s)}function i(e){return function(){var n=this,r=arguments;return new Promise((function(t,s){var i=e.apply(n,r);function o(e){a(i,t,s,o,c,"next",e)}function c(e){a(i,t,s,o,c,"throw",e)}o(void 0)}))}}function o(){return c.apply(this,arguments)}function c(){return(c=i(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(482),r.e(714),r.e(389),r.e(309)]).then(r.t.bind(r,3283,23));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return l.apply(this,arguments)}function l(){return(l=i(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(778),r.e(285),r.e(98),r.e(137),r.e(544)]).then(r.bind(r,67544));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},42e3:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return b}});var t=r(85893),s=r(34051),a=r.n(s),i=r(67294),o=r(88375),c=r(11676),u=r(35005),l=r(58038),d=r(50727),f=r(45512),h=r(31965);function p(e,n,r,t,s,a,i){try{var o=e[a](i),c=o.value}catch(u){return void r(u)}o.done?n(c):Promise.resolve(c).then(t,s)}function x(){var e=(0,i.useContext)(d.Z),n=(0,i.useState)(h.M.DEFAULT),r=n[0],s=n[1],x=(0,i.useState)(""),v=x[0],j=x[1],m=(0,i.useState)(1),y=m[0],w=m[1],C=(0,i.useState)("1"),b=C[0],g=C[1],Z=(0,i.useState)("1"),N=Z[0],k=Z[1],E=(0,i.useState)(0),I=E[0],M=E[1],P=function(){var n,r=(n=a().mark((function n(){var r,t,i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s(h.M.LOADING),n.next=5,(0,f.u)({from:null===(r=e.account)||void 0===r?void 0:r.addressId,gas:l.pl});case 5:return t=n.sent,n.next=8,t.methods.createProperty(y,b,N,y).send();case 8:i=n.sent,j(JSON.stringify(i)),s(h.M.SUCCESS),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(0),console.error(n.t0),s(h.M.ERROR);case 17:case"end":return n.stop()}}),n,null,[[0,13]])})),function(){var e=this,r=arguments;return new Promise((function(t,s){var a=n.apply(e,r);function i(e){p(a,t,s,i,o,"next",e)}function o(e){p(a,t,s,i,o,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}(),S=(0,i.useMemo)((function(){switch(r){case h.M.LOADING:return"Waiting...";case h.M.ERROR:return"Try Again";default:return"Create Property"}}),[r]);return(0,t.jsxs)(o.Z,{variant:"secondary",children:[(0,t.jsx)(o.Z.Heading,{children:"Create Property"}),(0,t.jsx)("p",{children:"Create a new property to be listed in the marketplace."}),(0,t.jsxs)(c.Z,{children:[(0,t.jsxs)(c.Z.Group,{className:"mb-3",controlId:"addressId",children:[(0,t.jsx)(c.Z.Label,{children:"Property Price:"}),(0,t.jsx)(c.Z.Control,{type:"number",value:y,onChange:function(e){return w(Number(e.target.value))}})]}),(0,t.jsxs)(c.Z.Group,{className:"mb-3",controlId:"addressId",children:[(0,t.jsx)(c.Z.Label,{children:"Listing ID:"}),(0,t.jsx)(c.Z.Control,{type:"text",value:b,onChange:function(e){return g(e.target.value)}})]}),(0,t.jsxs)(c.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,t.jsx)(c.Z.Label,{children:"Pin Code:"}),(0,t.jsx)(c.Z.Control,{type:"text",value:N,onChange:function(e){return k(e.target.value)}})]}),(0,t.jsxs)(c.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,t.jsx)(c.Z.Label,{children:"Property Shares Supply:"}),(0,t.jsx)(c.Z.Control,{type:"number",value:I,onChange:function(e){return M(Number(e.target.value))}})]})]}),v&&(0,t.jsxs)("p",{className:"text-break",children:["Message received: ",(0,t.jsx)("b",{children:v})]}),(0,t.jsx)("hr",{}),(0,t.jsx)("div",{className:"d-flex justify-content-end",children:(0,t.jsx)(u.Z,{variant:"secondary",onClick:P,disabled:r===h.M.LOADING,children:S})})]})}var v=r(11337);function j(e,n,r,t,s,a,i){try{var o=e[a](i),c=o.value}catch(u){return void r(u)}o.done?n(c):Promise.resolve(c).then(t,s)}function m(){var e=(0,i.useContext)(d.Z),n=(0,i.useState)(h.M.DEFAULT),r=n[0],s=n[1],p=(0,i.useState)(""),x=p[0],v=p[1],m=(0,i.useState)(""),y=m[0],w=m[1],C=(0,i.useState)(""),b=C[0],g=C[1],Z=(0,i.useState)(0),N=Z[0],k=Z[1],E=function(){var n,r=(n=a().mark((function n(){var r,t,i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s(h.M.LOADING),n.next=5,(0,f.u)({from:null===(r=e.account)||void 0===r?void 0:r.addressId,gas:l.pl});case 5:return t=n.sent,n.next=8,t.methods.transfer(b,N,y).send();case 8:i=n.sent,w(""),g(""),k(0),v(JSON.stringify(i)),s(h.M.SUCCESS),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(0),console.error(n.t0),s(h.M.ERROR);case 20:case"end":return n.stop()}}),n,null,[[0,16]])})),function(){var e=this,r=arguments;return new Promise((function(t,s){var a=n.apply(e,r);function i(e){j(a,t,s,i,o,"next",e)}function o(e){j(a,t,s,i,o,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}(),I=(0,i.useMemo)((function(){switch(r){case h.M.LOADING:return"Waiting...";case h.M.ERROR:return"Try Again";default:return"Transfer Property Shares"}}),[r]);return(0,t.jsxs)(o.Z,{variant:"secondary",children:[(0,t.jsx)(o.Z.Heading,{children:"Transfer Property Shares"}),(0,t.jsx)("p",{children:"Transfer your shares from your existing properties to another owner."}),(0,t.jsxs)(c.Z,{children:[(0,t.jsxs)(c.Z.Group,{className:"mb-3",controlId:"addressId",children:[(0,t.jsx)(c.Z.Label,{children:"Listing ID:"}),(0,t.jsx)(c.Z.Control,{type:"text",value:y,onChange:function(e){return w(e.target.value)}})]}),(0,t.jsxs)(c.Z.Group,{className:"mb-3",controlId:"addressId",children:[(0,t.jsx)(c.Z.Label,{children:"Transfer to:"}),(0,t.jsx)(c.Z.Control,{type:"text",value:b,onChange:function(e){return g(e.target.value)}})]}),(0,t.jsxs)(c.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,t.jsx)(c.Z.Label,{children:"Transfer amount:"}),(0,t.jsx)(c.Z.Control,{type:"number",value:N,onChange:function(e){return k(Number(e.target.value))}})]})]}),x&&(0,t.jsxs)("p",{className:"text-break",children:["Message received: ",(0,t.jsx)("b",{children:x})]}),(0,t.jsx)("hr",{}),(0,t.jsx)("div",{className:"d-flex justify-content-end",children:(0,t.jsx)(u.Z,{variant:"secondary",onClick:E,disabled:r===h.M.LOADING,children:I})})]})}var y=r(41664),w=r.n(y);function C(){var e=(0,i.useContext)(d.Z).account;return(0,t.jsx)("div",{children:(0,t.jsxs)(o.Z,{variant:"success",children:[(0,t.jsx)(o.Z.Heading,{children:"Welcome!"}),(0,t.jsx)("p",{children:"Please can now browse and buy properties in our marketplace."}),(0,t.jsxs)("p",{children:["Your address is: ",(0,t.jsx)("b",{children:null===e||void 0===e?void 0:e.addressId})]}),(0,t.jsx)("hr",{}),(0,t.jsx)("div",{className:"d-flex justify-content-end",children:(0,t.jsx)(w(),{href:h.Z5.PROPERTIES,passHref:!0,children:(0,t.jsx)(u.Z,{variant:"outline-success",children:"Browse Properties"})})})]})})}function b(){return(0,t.jsxs)(v.Z,{children:[(0,t.jsx)(C,{}),(0,t.jsx)(x,{}),(0,t.jsx)(m,{})]})}}},function(e){e.O(0,[795,774,888,179],(function(){return n=89208,e(e.s=n);var n}));var n=e.O();_N_E=n}]);