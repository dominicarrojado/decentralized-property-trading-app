(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{89208:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(85277)}])},90885:function(n,e,t){"use strict";t.d(e,{$s:function(){return f},s4:function(){return d}});var r=t(34051),s=t.n(r),a=t(67294),i=t(50727),c=(t(45512),t(97331)),o=t(31965);function u(n,e,t,r,s,a,i){try{var c=n[a](i),o=c.value}catch(u){return void t(u)}c.done?e(o):Promise.resolve(o).then(r,s)}function l(n){return function(){var e=this,t=arguments;return new Promise((function(r,s){var a=n.apply(e,t);function i(n){u(a,r,s,i,c,"next",n)}function c(n){u(a,r,s,i,c,"throw",n)}i(void 0)}))}}function d(){var n=(0,a.useState)(!1),e=n[0],t=n[1];return(0,a.useEffect)((function(){t(!0)}),[]),e}function f(){var n=(0,a.useContext)(i.Z),e=n.hasListings,t=(0,a.useState)(o.M.DEFAULT),r=t[0],u=t[1],d=function(){var e=l(s().mark((function e(){var t,r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(o.M.LOADING),e.next=4,(0,c.N)();case 4:for(t=e.sent,r=[],a=0;a<16;a++)r.push({id:t.datatype.uuid(),name:t.company.companyName(),country:t.address.country(),contractAddress:t.finance.ethereumAddress(),description:t.lorem.sentences(),listedBy:t.finance.ethereumAddress(),imageUrl:t.image.city(0,0,!0)});n.setListings(r),n.setHasListings(!0),u(o.M.SUCCESS),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),u(o.M.ERROR);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){e||d()}),[e]),[r,n.listings]}},45512:function(n,e,t){"use strict";t.d(e,{G:function(){return u},u:function(){return d}});var r=t(34051),s=t.n(r),a=t(97331),i=t(58038);function c(n,e,t,r,s,a,i){try{var c=n[a](i),o=c.value}catch(u){return void t(u)}c.done?e(o):Promise.resolve(o).then(r,s)}function o(n){return function(){var e=this,t=arguments;return new Promise((function(r,s){var a=n.apply(e,t);function i(n){c(a,r,s,i,o,"next",n)}function o(n){c(a,r,s,i,o,"throw",n)}i(void 0)}))}}function u(){return l.apply(this,arguments)}function l(){return(l=o(s().mark((function n(){var e;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:return e=n.sent,n.abrupt("return",e[0]);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function d(n){return f.apply(this,arguments)}function f(){return(f=o(s().mark((function n(e){var t,r;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,a.l)();case 2:return t=n.sent,r=new t(window.ethereum),n.abrupt("return",new r.eth.Contract(i.p2,i.ez,e));case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},97331:function(n,e,t){"use strict";t.d(e,{N:function(){return u},l:function(){return c}});var r=t(34051),s=t.n(r);function a(n,e,t,r,s,a,i){try{var c=n[a](i),o=c.value}catch(u){return void t(u)}c.done?e(o):Promise.resolve(o).then(r,s)}function i(n){return function(){var e=this,t=arguments;return new Promise((function(r,s){var i=n.apply(e,t);function c(n){a(i,r,s,c,o,"next",n)}function o(n){a(i,r,s,c,o,"throw",n)}c(void 0)}))}}function c(){return o.apply(this,arguments)}function o(){return(o=i(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([t.e(482),t.e(714),t.e(389),t.e(309)]).then(t.t.bind(t,3283,23));case 2:return n.abrupt("return",n.sent.default);case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function u(){return l.apply(this,arguments)}function l(){return(l=i(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([t.e(778),t.e(285),t.e(98),t.e(137),t.e(544)]).then(t.bind(t,67544));case 2:return n.abrupt("return",n.sent.default);case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},85277:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return I}});var r=t(85893),s=t(34051),a=t.n(s),i=t(67294),c=t(94184),o=t.n(c),u=t(15446),l=t(78146),d=t(71819),f=t(76792),h=t(41068),v=t(41485),p=t(39602),x=t(66611);const j=(0,p.Z)("h4");j.displayName="DivStyledAsH4";const m=(0,x.Z)("alert-heading",{Component:j}),w=(0,x.Z)("alert-link",{Component:d.Z}),y={variant:"primary",show:!0,transition:h.Z,closeLabel:"Close alert"},b=i.forwardRef(((n,e)=>{const{bsPrefix:t,show:s,closeLabel:a,closeVariant:i,className:c,children:d,variant:p,onClose:x,dismissible:j,transition:m,...w}=(0,u.Ch)(n,{show:"onClose"}),y=(0,f.vE)(t,"alert"),b=(0,l.Z)((n=>{x&&x(!1,n)})),C=!0===m?h.Z:m,N=(0,r.jsxs)("div",{role:"alert",...C?void 0:w,ref:e,className:o()(c,y,p&&`${y}-${p}`,j&&`${y}-dismissible`),children:[j&&(0,r.jsx)(v.Z,{onClick:b,"aria-label":a,variant:i}),d]});return C?(0,r.jsx)(C,{unmountOnExit:!0,...w,ref:void 0,in:s,children:N}):s?N:null}));b.displayName="Alert",b.defaultProps=y;var C=Object.assign(b,{Link:w,Heading:m}),N=t(35005),g=t(45512),k=t(31965);function E(n,e,t,r,s,a,i){try{var c=n[a](i),o=c.value}catch(u){return void t(u)}c.done?e(o):Promise.resolve(o).then(r,s)}function M(){var n=(0,i.useState)(k.M.DEFAULT),e=n[0],t=n[1],s=(0,i.useState)(""),c=s[0],o=s[1],u=function(){var n,e=(n=a().mark((function n(){var e,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t(k.M.LOADING),n.next=4,(0,g.u)();case 4:return e=n.sent,n.next=7,e.methods.getMessage().call();case 7:r=n.sent,o(r),t(k.M.SUCCESS),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(0),console.error(n.t0),t(k.M.ERROR);case 16:case"end":return n.stop()}}),n,null,[[0,12]])})),function(){var e=this,t=arguments;return new Promise((function(r,s){var a=n.apply(e,t);function i(n){E(a,r,s,i,c,"next",n)}function c(n){E(a,r,s,i,c,"throw",n)}i(void 0)}))});return function(){return e.apply(this,arguments)}}(),l=(0,i.useMemo)((function(){switch(e){case k.M.LOADING:return"Waiting...";case k.M.ERROR:return"Try Again";default:return"Get Message"}}),[e]);return(0,r.jsxs)(C,{variant:"secondary",children:[(0,r.jsx)(C.Heading,{children:"Contract Caller"}),(0,r.jsx)("p",{children:"Let's see if we can interact with the contract."}),c&&(0,r.jsxs)("p",{children:["Message received: ",(0,r.jsx)("b",{children:c})]}),(0,r.jsx)("hr",{}),(0,r.jsx)("div",{className:"d-flex justify-content-end",children:(0,r.jsx)(N.Z,{variant:"secondary",onClick:u,disabled:e===k.M.LOADING,children:l})})]})}var P=t(90885),O=t(50727);function R(n){var e=n.buttonLoading,t=n.buttonOnClick;return(0,r.jsxs)(C,{variant:"primary",children:[(0,r.jsx)(C.Heading,{children:"Connect Account"}),(0,r.jsxs)("p",{children:["Please click connect your ",(0,r.jsx)("b",{children:"MetaMask"})," account to continue."]}),(0,r.jsx)("hr",{}),(0,r.jsx)("div",{className:"d-flex justify-content-end",children:(0,r.jsx)(N.Z,{variant:"primary",onClick:t,disabled:e,children:e?"Loading...":"Connect"})})]})}function Z(n){var e=n.buttonOnClick;return(0,r.jsxs)(C,{variant:"danger",children:[(0,r.jsx)(C.Heading,{children:"Unexpected Error"}),(0,r.jsx)("p",{children:"Something went wrong. Please try again..."}),(0,r.jsx)("hr",{}),(0,r.jsx)("div",{className:"d-flex justify-content-end",children:(0,r.jsx)(N.Z,{variant:"danger",onClick:e,children:"Retry Again"})})]})}function A(){return(0,r.jsxs)(C,{variant:"warning",children:[(0,r.jsx)(C.Heading,{children:"Install MetaMask"}),(0,r.jsxs)("p",{children:["Please install ",(0,r.jsx)("b",{children:"MetaMask"})," browser extension to continue."]}),(0,r.jsx)("hr",{}),(0,r.jsxs)("div",{className:"d-flex gap-3 justify-content-end",children:[(0,r.jsx)(N.Z,{href:"https://metamask.io/download/",target:"_blank",variant:"warning",children:"Install MetaMask"}),(0,r.jsx)(N.Z,{variant:"outline-dark",onClick:function(){return window.location.reload()},children:"Reload"})]})]})}function L(n,e,t,r,s,a,i){try{var c=n[a](i),o=c.value}catch(u){return void t(u)}c.done?e(o):Promise.resolve(o).then(r,s)}function S(n){var e=n.children,t=(0,i.useContext)(O.Z),s=(0,i.useState)(k.j4.DEFAULT),c=s[0],o=s[1],u=(0,P.s4)(),l=(0,i.useState)(!1),d=l[0],f=l[1],h=function(){var n,e=(n=a().mark((function n(){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o(k.j4.CONNECTING),n.prev=1,n.next=4,(0,g.G)();case 4:(e=n.sent)?(t.setAccount({addressId:e}),o(k.j4.CONNECTED)):o(k.j4.ERROR),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),console.error(n.t0),o(k.j4.ERROR);case 12:case"end":return n.stop()}}),n,null,[[1,8]])})),function(){var e=this,t=arguments;return new Promise((function(r,s){var a=n.apply(e,t);function i(n){L(a,r,s,i,c,"next",n)}function c(n){L(a,r,s,i,c,"throw",n)}i(void 0)}))});return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){!function(){var n=window.ethereum,e=Boolean(n&&n.isMetaMask);f(e)}(),t.account&&o(k.j4.CONNECTED)}),[t.account]),u?d?c===k.j4.ERROR?(0,r.jsx)(Z,{buttonOnClick:h}):c!==k.j4.CONNECTED?(0,r.jsx)(R,{buttonOnClick:h,buttonLoading:c===k.j4.CONNECTING}):(0,r.jsx)(r.Fragment,{children:e}):(0,r.jsx)(A,{}):null}var _=t(41664),T=t.n(_);function D(){var n=(0,i.useContext)(O.Z).account;return(0,r.jsx)("div",{children:(0,r.jsxs)(C,{variant:"success",children:[(0,r.jsx)(C.Heading,{children:"Welcome!"}),(0,r.jsx)("p",{children:"Please can now browse and buy properties in our marketplace."}),(0,r.jsxs)("p",{children:["Your address is: ",(0,r.jsx)("b",{children:null===n||void 0===n?void 0:n.addressId})]}),(0,r.jsx)("hr",{}),(0,r.jsx)("div",{className:"d-flex justify-content-end",children:(0,r.jsx)(T(),{href:k.Z5.PROPERTIES,passHref:!0,children:(0,r.jsx)(N.Z,{variant:"outline-success",children:"Browse Properties"})})})]})})}function I(){return(0,r.jsxs)(S,{children:[(0,r.jsx)(D,{}),(0,r.jsx)(M,{})]})}},35005:function(n,e,t){"use strict";var r=t(94184),s=t.n(r),a=t(67294),i=t(70861),c=t(76792),o=t(85893);const u=a.forwardRef((({as:n,bsPrefix:e,variant:t,size:r,active:a,className:u,...l},d)=>{const f=(0,c.vE)(e,"btn"),[h,{tagName:v}]=(0,i.FT)({tagName:n,...l}),p=v;return(0,o.jsx)(p,{...h,...l,ref:d,className:s()(u,f,a&&"active",t&&`${f}-${t}`,r&&`${f}-${r}`,l.href&&l.disabled&&"disabled")})}));u.displayName="Button",u.defaultProps={variant:"primary",active:!1,disabled:!1},e.Z=u}},function(n){n.O(0,[774,888,179],(function(){return e=89208,n(n.s=e);var e}));var e=n.O();_N_E=e}]);