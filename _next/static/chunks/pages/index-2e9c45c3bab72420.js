(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{89208:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(31214)}])},11337:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var r=t(34051),s=t.n(r),a=t(85893),c=t(67294),o=t(45512),i=t(90885),u=t(31965),l=t(50727),d=t(88375),f=t(35005);function h(e){var n=e.buttonLoading,t=e.buttonOnClick;return(0,a.jsxs)(d.Z,{variant:"primary",children:[(0,a.jsx)(d.Z.Heading,{children:"Connect Account"}),(0,a.jsxs)("p",{children:["Please click connect your ",(0,a.jsx)("b",{children:"MetaMask"})," account to continue."]}),(0,a.jsx)("hr",{}),(0,a.jsx)("div",{className:"d-flex justify-content-end",children:(0,a.jsx)(f.Z,{variant:"primary",onClick:t,disabled:n,children:n?"Loading...":"Connect"})})]})}function p(e){var n=e.buttonOnClick;return(0,a.jsxs)(d.Z,{variant:"danger",children:[(0,a.jsx)(d.Z.Heading,{children:"Unexpected Error"}),(0,a.jsx)("p",{children:"Something went wrong. Please try again..."}),(0,a.jsx)("hr",{}),(0,a.jsx)("div",{className:"d-flex justify-content-end",children:(0,a.jsx)(f.Z,{variant:"danger",onClick:n,children:"Retry Again"})})]})}function x(){return(0,a.jsxs)(d.Z,{variant:"warning",children:[(0,a.jsx)(d.Z.Heading,{children:"Install MetaMask"}),(0,a.jsxs)("p",{children:["Please install ",(0,a.jsx)("b",{children:"MetaMask"})," browser extension to continue."]}),(0,a.jsx)("hr",{}),(0,a.jsxs)("div",{className:"d-flex gap-3 justify-content-end",children:[(0,a.jsx)(f.Z,{href:"https://metamask.io/download/",target:"_blank",variant:"warning",children:"Install MetaMask"}),(0,a.jsx)(f.Z,{variant:"outline-dark",onClick:function(){return window.location.reload()},children:"Reload"})]})]})}function v(e,n,t,r,s,a,c){try{var o=e[a](c),i=o.value}catch(u){return void t(u)}o.done?n(i):Promise.resolve(i).then(r,s)}function m(e){var n=e.children,t=(0,c.useContext)(l.Z),r=(0,c.useState)(u.j4.DEFAULT),d=r[0],f=r[1],m=(0,i.s4)(),j=(0,c.useState)(!1),y=j[0],g=j[1],w=function(){var e,n=(e=s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(u.j4.CONNECTING),e.prev=1,e.next=4,(0,o.G)();case 4:(n=e.sent)?(t.setAccount({addressId:n}),f(u.j4.CONNECTED)):f(u.j4.ERROR),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),f(u.j4.ERROR);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})),function(){var n=this,t=arguments;return new Promise((function(r,s){var a=e.apply(n,t);function c(e){v(a,r,s,c,o,"next",e)}function o(e){v(a,r,s,c,o,"throw",e)}c(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,c.useEffect)((function(){!function(){var e=window.ethereum,n=Boolean(e&&e.isMetaMask);g(n)}(),t.account&&f(u.j4.CONNECTED)}),[t.account]),m?y?d===u.j4.ERROR?(0,a.jsx)(p,{buttonOnClick:w}):d!==u.j4.CONNECTED?(0,a.jsx)(h,{buttonOnClick:w,buttonLoading:d===u.j4.CONNECTING}):(0,a.jsx)(a.Fragment,{children:n}):(0,a.jsx)(x,{}):null}},90885:function(e,n,t){"use strict";t.d(n,{$s:function(){return f},s4:function(){return d}});var r=t(34051),s=t.n(r),a=t(67294),c=t(50727),o=(t(45512),t(97331)),i=t(31965);function u(e,n,t,r,s,a,c){try{var o=e[a](c),i=o.value}catch(u){return void t(u)}o.done?n(i):Promise.resolve(i).then(r,s)}function l(e){return function(){var n=this,t=arguments;return new Promise((function(r,s){var a=e.apply(n,t);function c(e){u(a,r,s,c,o,"next",e)}function o(e){u(a,r,s,c,o,"throw",e)}c(void 0)}))}}function d(){var e=(0,a.useState)(!1),n=e[0],t=e[1];return(0,a.useEffect)((function(){t(!0)}),[]),n}function f(){var e=(0,a.useContext)(c.Z),n=e.hasListings,t=(0,a.useState)(i.M.DEFAULT),r=t[0],u=t[1],d=function(){var n=l(s().mark((function n(){var t,r,a;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,u(i.M.LOADING),n.next=4,(0,o.N)();case 4:for(t=n.sent,r=[],a=0;a<16;a++)r.push({id:t.datatype.uuid(),name:t.company.companyName(),country:t.address.country(),contractAddress:t.finance.ethereumAddress(),description:t.lorem.sentences(),listedBy:t.finance.ethereumAddress(),imageUrl:t.image.city(0,0,!0)});e.setListings(r),e.setHasListings(!0),u(i.M.SUCCESS),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(0),console.error(n.t0),u(i.M.ERROR);case 16:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(){return n.apply(this,arguments)}}();return(0,a.useEffect)((function(){n||d()}),[n]),[r,e.listings]}},45512:function(e,n,t){"use strict";t.d(n,{G:function(){return u},u:function(){return d}});var r=t(34051),s=t.n(r),a=t(97331),c=t(58038);function o(e,n,t,r,s,a,c){try{var o=e[a](c),i=o.value}catch(u){return void t(u)}o.done?n(i):Promise.resolve(i).then(r,s)}function i(e){return function(){var n=this,t=arguments;return new Promise((function(r,s){var a=e.apply(n,t);function c(e){o(a,r,s,c,i,"next",e)}function i(e){o(a,r,s,c,i,"throw",e)}c(void 0)}))}}function u(){return l.apply(this,arguments)}function l(){return(l=i(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:return n=e.sent,e.abrupt("return",n[0]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=i(s().mark((function e(n){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.l)();case 2:return t=e.sent,r=new t(window.ethereum),e.abrupt("return",new r.eth.Contract(c.p2,c.ez,n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},97331:function(e,n,t){"use strict";t.d(n,{N:function(){return u},l:function(){return o}});var r=t(34051),s=t.n(r);function a(e,n,t,r,s,a,c){try{var o=e[a](c),i=o.value}catch(u){return void t(u)}o.done?n(i):Promise.resolve(i).then(r,s)}function c(e){return function(){var n=this,t=arguments;return new Promise((function(r,s){var c=e.apply(n,t);function o(e){a(c,r,s,o,i,"next",e)}function i(e){a(c,r,s,o,i,"throw",e)}o(void 0)}))}}function o(){return i.apply(this,arguments)}function i(){return(i=c(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(482),t.e(714),t.e(389),t.e(309)]).then(t.t.bind(t,3283,23));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return l.apply(this,arguments)}function l(){return(l=c(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(778),t.e(285),t.e(98),t.e(137),t.e(544)]).then(t.bind(t,67544));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},31214:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Z}});var r=t(85893),s=t(34051),a=t.n(s),c=t(67294),o=t(88375),i=t(11676),u=t(35005),l=t(58038),d=t(50727),f=t(45512),h=t(31965);function p(e,n,t,r,s,a,c){try{var o=e[a](c),i=o.value}catch(u){return void t(u)}o.done?n(i):Promise.resolve(i).then(r,s)}function x(){var e=(0,c.useContext)(d.Z),n=(0,c.useState)(h.M.DEFAULT),t=n[0],s=n[1],x=(0,c.useState)(""),v=x[0],m=x[1],j=(0,c.useState)(""),y=j[0],g=j[1],w=(0,c.useState)(1),C=w[0],b=w[1],N=(0,c.useState)("1"),Z=N[0],S=N[1],k=(0,c.useState)("1"),E=k[0],R=k[1],M=(0,c.useState)(0),O=M[0],I=M[1],P=function(){var n,t=(n=a().mark((function n(){var t,r,c;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s(h.M.LOADING),n.next=5,(0,f.u)({from:null===(t=e.account)||void 0===t?void 0:t.addressId,gas:l.pl});case 5:return r=n.sent,n.next=8,r.methods.createProperty(C,Z,E,C).send();case 8:c=n.sent,m(JSON.stringify(c)),s(h.M.SUCCESS),n.next=18;break;case 13:n.prev=13,n.t0=n.catch(0),console.error(n.t0),s(h.M.ERROR),g(n.t0.message);case 18:case"end":return n.stop()}}),n,null,[[0,13]])})),function(){var e=this,t=arguments;return new Promise((function(r,s){var a=n.apply(e,t);function c(e){p(a,r,s,c,o,"next",e)}function o(e){p(a,r,s,c,o,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}(),L=(0,c.useMemo)((function(){switch(t){case h.M.LOADING:return"Waiting...";case h.M.ERROR:return"Try Again";default:return"Create Property"}}),[t]);return(0,r.jsxs)(o.Z,{variant:"secondary",children:[(0,r.jsx)(o.Z.Heading,{children:"Create Property"}),(0,r.jsx)("p",{children:"Create a new property to be listed in the marketplace."}),(0,r.jsxs)(i.Z,{children:[(0,r.jsxs)(i.Z.Group,{className:"mb-3",controlId:"addressId",children:[(0,r.jsx)(i.Z.Label,{children:"Property Price:"}),(0,r.jsx)(i.Z.Control,{type:"number",value:C,onChange:function(e){return b(Number(e.target.value))}})]}),(0,r.jsxs)(i.Z.Group,{className:"mb-3",controlId:"addressId",children:[(0,r.jsx)(i.Z.Label,{children:"Listing ID:"}),(0,r.jsx)(i.Z.Control,{type:"text",value:Z,onChange:function(e){return S(e.target.value)}})]}),(0,r.jsxs)(i.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,r.jsx)(i.Z.Label,{children:"Pin Code:"}),(0,r.jsx)(i.Z.Control,{type:"text",value:E,onChange:function(e){return R(e.target.value)}})]}),(0,r.jsxs)(i.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,r.jsx)(i.Z.Label,{children:"Property Shares Supply:"}),(0,r.jsx)(i.Z.Control,{type:"number",value:O,onChange:function(e){return I(Number(e.target.value))}})]})]}),v&&(0,r.jsxs)("p",{className:"text-break",children:["Message received: ",(0,r.jsx)("b",{children:v})]}),(0,r.jsx)("hr",{}),t===h.M.ERROR&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"text-danger",children:"Oops! Something went wrong..."}),(0,r.jsx)("p",{className:"text-danger",children:y})]}),(0,r.jsx)("div",{className:"d-flex justify-content-end",children:(0,r.jsx)(u.Z,{variant:"secondary",onClick:P,disabled:t===h.M.LOADING,children:L})})]})}var v=t(11337);function m(e,n,t,r,s,a,c){try{var o=e[a](c),i=o.value}catch(u){return void t(u)}o.done?n(i):Promise.resolve(i).then(r,s)}function j(e){return function(){var n=this,t=arguments;return new Promise((function(r,s){var a=e.apply(n,t);function c(e){m(a,r,s,c,o,"next",e)}function o(e){m(a,r,s,c,o,"throw",e)}c(void 0)}))}}function y(){var e=(0,c.useContext)(d.Z),n=(0,c.useState)(h.M.DEFAULT),t=n[0],s=n[1],i=(0,c.useState)(0),u=i[0],l=i[1],p=(0,c.useState)(!1),x=p[0],v=p[1],m=(0,c.useState)(""),y=m[0],g=m[1],w=function(){var n=j(a().mark((function n(){var t,r,c,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s(h.M.LOADING),n.next=5,(0,f.u)();case 5:return r=n.sent,c=null===(t=e.account)||void 0===t?void 0:t.addressId,n.next=9,r.methods.balanceOf(c).call();case 9:o=n.sent,l(o||0),v(!0),s(h.M.SUCCESS),n.next=20;break;case 15:n.prev=15,n.t0=n.catch(0),console.error(n.t0),s(h.M.ERROR),g(n.t0.message);case 20:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(){return n.apply(this,arguments)}}(),C=function(){var e=j(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.u)();case 2:e.sent.events.Transfer({filter:{value:[]},fromBlock:0}).on("data",w);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){w(),C()}),[]),(0,r.jsxs)(o.Z,{variant:"secondary",children:[(0,r.jsx)(o.Z.Heading,{children:"Property Shares"}),(0,r.jsxs)("p",{className:"text-break",children:["Balance: ",(0,r.jsx)("b",{children:x?u:"----"})]}),t===h.M.ERROR&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"text-danger",children:"Oops! Something went wrong..."}),(0,r.jsx)("p",{className:"text-danger",children:y})]})]})}function g(e,n,t,r,s,a,c){try{var o=e[a](c),i=o.value}catch(u){return void t(u)}o.done?n(i):Promise.resolve(i).then(r,s)}function w(){var e=(0,c.useContext)(d.Z),n=(0,c.useState)(h.M.DEFAULT),t=n[0],s=n[1],p=(0,c.useState)(""),x=p[0],v=p[1],m=(0,c.useState)(""),j=m[0],y=m[1],w=(0,c.useState)(""),C=w[0],b=w[1],N=(0,c.useState)(""),Z=N[0],S=N[1],k=(0,c.useState)(0),E=k[0],R=k[1],M=function(){var n,t=(n=a().mark((function n(){var t,r,c,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s(h.M.LOADING),v(""),y(""),n.next=7,(0,f.u)({from:null===(t=e.account)||void 0===t?void 0:t.addressId,gas:l.pl});case 7:return c=n.sent,n.t0=console,n.next=11,c.methods.propSupplier(1).call();case 11:return n.t1=n.sent,n.t0.log.call(n.t0,n.t1),console.log(null===(r=e.account)||void 0===r?void 0:r.addressId),n.next=16,c.methods.transfer(Z,E,C).send();case 16:o=n.sent,b(""),S(""),R(0),v(JSON.stringify(o)),s(h.M.SUCCESS),n.next=29;break;case 24:n.prev=24,n.t2=n.catch(0),console.error(n.t2),s(h.M.ERROR),y(n.t2.message);case 29:case"end":return n.stop()}}),n,null,[[0,24]])})),function(){var e=this,t=arguments;return new Promise((function(r,s){var a=n.apply(e,t);function c(e){g(a,r,s,c,o,"next",e)}function o(e){g(a,r,s,c,o,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}(),O=(0,c.useMemo)((function(){switch(t){case h.M.LOADING:return"Waiting...";case h.M.ERROR:return"Try Again";default:return"Transfer Property Shares"}}),[t]);return(0,r.jsxs)(o.Z,{variant:"secondary",children:[(0,r.jsx)(o.Z.Heading,{children:"Transfer Property Shares"}),(0,r.jsx)("p",{children:"Transfer your shares from your existing properties to another owner."}),(0,r.jsxs)(i.Z,{children:[(0,r.jsxs)(i.Z.Group,{className:"mb-3",controlId:"addressId",children:[(0,r.jsx)(i.Z.Label,{children:"Listing ID:"}),(0,r.jsx)(i.Z.Control,{type:"text",value:C,onChange:function(e){return b(e.target.value)}})]}),(0,r.jsxs)(i.Z.Group,{className:"mb-3",controlId:"addressId",children:[(0,r.jsx)(i.Z.Label,{children:"Transfer to:"}),(0,r.jsx)(i.Z.Control,{type:"text",value:Z,onChange:function(e){return S(e.target.value)}})]}),(0,r.jsxs)(i.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,r.jsx)(i.Z.Label,{children:"Transfer amount:"}),(0,r.jsx)(i.Z.Control,{type:"number",value:E,onChange:function(e){return R(Number(e.target.value))}})]})]}),x&&(0,r.jsxs)("p",{className:"text-break",children:["Message received: ",(0,r.jsx)("b",{children:x})]}),(0,r.jsx)("hr",{}),t===h.M.ERROR&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"text-danger",children:"Oops! Something went wrong..."}),(0,r.jsx)("p",{className:"text-danger text-break",children:j})]}),(0,r.jsx)("div",{className:"d-flex justify-content-end",children:(0,r.jsx)(u.Z,{variant:"secondary",onClick:M,disabled:t===h.M.LOADING,children:O})})]})}var C=t(41664),b=t.n(C);function N(){var e=(0,c.useContext)(d.Z).account;return(0,r.jsx)("div",{children:(0,r.jsxs)(o.Z,{variant:"success",children:[(0,r.jsx)(o.Z.Heading,{children:"Welcome!"}),(0,r.jsx)("p",{children:"Please can now browse and buy properties in our marketplace."}),(0,r.jsxs)("p",{children:["Your address is: ",(0,r.jsx)("b",{children:null===e||void 0===e?void 0:e.addressId})]}),(0,r.jsx)("hr",{}),(0,r.jsx)("div",{className:"d-flex justify-content-end",children:(0,r.jsx)(b(),{href:h.Z5.PROPERTIES,passHref:!0,children:(0,r.jsx)(u.Z,{variant:"outline-success",children:"Browse Properties"})})})]})})}function Z(){return(0,r.jsxs)(v.Z,{children:[(0,r.jsx)(N,{}),(0,r.jsx)(y,{}),(0,r.jsx)(x,{}),(0,r.jsx)(w,{})]})}}},function(e){e.O(0,[795,774,888,179],(function(){return n=89208,e(e.s=n);var n}));var n=e.O();_N_E=n}]);