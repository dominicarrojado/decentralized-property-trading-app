(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{89208:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(62924)}])},11337:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var r=t(34051),s=t.n(r),a=t(85893),c=t(11163),i=t(67294),o=t(45512),u=t(90885),l=t(31965),d=t(50727),h=t(88375),f=t(35005);function x(e){var n=e.buttonLoading,t=e.buttonOnClick;return(0,a.jsxs)(h.Z,{variant:"primary",children:[(0,a.jsx)(h.Z.Heading,{children:"Connect Account"}),(0,a.jsxs)("p",{children:["Please click connect your ",(0,a.jsx)("b",{children:"MetaMask"})," account to continue."]}),(0,a.jsx)("hr",{}),(0,a.jsx)("div",{className:"d-flex justify-content-end",children:(0,a.jsx)(f.Z,{variant:"primary",onClick:t,disabled:n,children:n?"Loading...":"Connect"})})]})}function p(e){var n=e.buttonOnClick;return(0,a.jsxs)(h.Z,{variant:"danger",children:[(0,a.jsx)(h.Z.Heading,{children:"Unexpected Error"}),(0,a.jsx)("p",{children:"Something went wrong. Please try again..."}),(0,a.jsx)("hr",{}),(0,a.jsx)("div",{className:"d-flex justify-content-end",children:(0,a.jsx)(f.Z,{variant:"danger",onClick:n,children:"Retry Again"})})]})}function v(){return(0,a.jsxs)(h.Z,{variant:"warning",children:[(0,a.jsx)(h.Z.Heading,{children:"Install MetaMask"}),(0,a.jsxs)("p",{children:["Please install ",(0,a.jsx)("b",{children:"MetaMask"})," browser extension to continue."]}),(0,a.jsx)("hr",{}),(0,a.jsxs)("div",{className:"d-flex gap-3 justify-content-end",children:[(0,a.jsx)(f.Z,{href:"https://metamask.io/download/",target:"_blank",variant:"warning",children:"Install MetaMask"}),(0,a.jsx)(f.Z,{variant:"outline-dark",onClick:function(){return window.location.reload()},children:"Reload"})]})]})}function j(e,n,t,r,s,a,c){try{var i=e[a](c),o=i.value}catch(u){return void t(u)}i.done?n(o):Promise.resolve(o).then(r,s)}function m(e){var n=e.children,t=(0,i.useRef)(!1),r=(0,c.useRouter)().query.autoComplete,h=(0,i.useContext)(d.Z),f=(0,i.useState)(l.j4.DEFAULT),m=f[0],g=f[1],y=(0,u.s4)(),w=(0,i.useState)(!1),b=w[0],C=w[1],N=function(){var e,n=(e=s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(l.j4.CONNECTING),e.prev=1,e.next=4,(0,o.G)();case 4:(n=e.sent)?(h.setAccount({addressId:n}),g(l.j4.CONNECTED)):g(l.j4.ERROR),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),g(l.j4.ERROR);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})),function(){var n=this,t=arguments;return new Promise((function(r,s){var a=e.apply(n,t);function c(e){j(a,r,s,c,i,"next",e)}function i(e){j(a,r,s,c,i,"throw",e)}c(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,i.useEffect)((function(){!function(){var e=window.ethereum,n=Boolean(e&&e.isMetaMask);C(n)}(),h.account&&g(l.j4.CONNECTED)}),[h.account]),(0,i.useEffect)((function(){t.current||"1"!==r||h.account||(t.current=!0,N())}),[r,h.account]),y?b?m===l.j4.ERROR?(0,a.jsx)(p,{buttonOnClick:N}):m!==l.j4.CONNECTED?(0,a.jsx)(x,{buttonOnClick:N,buttonLoading:m===l.j4.CONNECTING}):(0,a.jsx)(a.Fragment,{children:n}):(0,a.jsx)(v,{}):null}},90885:function(e,n,t){"use strict";t.d(n,{$s:function(){return h},MK:function(){return d},s4:function(){return l}});var r=t(34051),s=t.n(r),a=t(67294),c=t(50727),i=t(97331),o=t(31965);function u(e,n,t,r,s,a,c){try{var i=e[a](c),o=i.value}catch(u){return void t(u)}i.done?n(o):Promise.resolve(o).then(r,s)}function l(){var e=(0,a.useState)(!1),n=e[0],t=e[1];return(0,a.useEffect)((function(){t(!0)}),[]),n}function d(){var e;return null===(e=(0,a.useContext)(c.Z).account)||void 0===e?void 0:e.addressId}function h(){var e=(0,a.useContext)(c.Z),n=e.hasListings,t=(0,a.useState)(o.M.DEFAULT),r=t[0],l=t[1],d=function(){var n,t=(n=s().mark((function n(){var t,r,a;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,l(o.M.LOADING),n.next=4,(0,i.N)();case 4:for(t=n.sent,r=[],a=0;a<16;a++)r.push({id:t.datatype.uuid(),name:t.company.companyName(),country:t.address.country(),contractAddress:t.finance.ethereumAddress(),description:t.lorem.sentences(),listedBy:t.finance.ethereumAddress(),imageUrl:t.image.city(0,0,!0)});e.setListings(r),e.setHasListings(!0),l(o.M.SUCCESS),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(0),console.error(n.t0),l(o.M.ERROR);case 16:case"end":return n.stop()}}),n,null,[[0,12]])})),function(){var e=this,t=arguments;return new Promise((function(r,s){var a=n.apply(e,t);function c(e){u(a,r,s,c,i,"next",e)}function i(e){u(a,r,s,c,i,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,a.useEffect)((function(){n||d()}),[n]),[r,e.listings]}},45512:function(e,n,t){"use strict";t.d(n,{G:function(){return u},u:function(){return d}});var r=t(34051),s=t.n(r),a=t(97331),c=t(58038);function i(e,n,t,r,s,a,c){try{var i=e[a](c),o=i.value}catch(u){return void t(u)}i.done?n(o):Promise.resolve(o).then(r,s)}function o(e){return function(){var n=this,t=arguments;return new Promise((function(r,s){var a=e.apply(n,t);function c(e){i(a,r,s,c,o,"next",e)}function o(e){i(a,r,s,c,o,"throw",e)}c(void 0)}))}}function u(){return l.apply(this,arguments)}function l(){return(l=o(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:return n=e.sent,e.abrupt("return",n[0]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return h.apply(this,arguments)}function h(){return(h=o(s().mark((function e(n){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.l)();case 2:return t=e.sent,r=new t(window.ethereum),e.abrupt("return",new r.eth.Contract(c.p2,c.ez,n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},97331:function(e,n,t){"use strict";t.d(n,{N:function(){return u},l:function(){return i}});var r=t(34051),s=t.n(r);function a(e,n,t,r,s,a,c){try{var i=e[a](c),o=i.value}catch(u){return void t(u)}i.done?n(o):Promise.resolve(o).then(r,s)}function c(e){return function(){var n=this,t=arguments;return new Promise((function(r,s){var c=e.apply(n,t);function i(e){a(c,r,s,i,o,"next",e)}function o(e){a(c,r,s,i,o,"throw",e)}i(void 0)}))}}function i(){return o.apply(this,arguments)}function o(){return(o=c(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(482),t.e(714),t.e(389),t.e(309)]).then(t.t.bind(t,3283,23));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return l.apply(this,arguments)}function l(){return(l=c(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(778),t.e(285),t.e(98),t.e(137),t.e(544)]).then(t.bind(t,67544));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},62924:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return k}});var r=t(85893),s=t(34051),a=t.n(s),c=t(67294),i=t(88375),o=t(11676),u=t(35005),l=t(58038),d=t(50727),h=t(45512),f=t(31965);function x(e,n,t,r,s,a,c){try{var i=e[a](c),o=i.value}catch(u){return void t(u)}i.done?n(o):Promise.resolve(o).then(r,s)}function p(){var e=(0,c.useContext)(d.Z),n=(0,c.useState)(f.M.DEFAULT),t=n[0],s=n[1],p=(0,c.useState)(""),v=p[0],j=p[1],m=(0,c.useState)(""),g=m[0],y=m[1],w=(0,c.useState)(1),b=w[0],C=w[1],N=(0,c.useState)("1"),Z=N[0],S=N[1],R=(0,c.useState)("1"),k=R[0],M=R[1],E=(0,c.useState)(0),O=E[0],I=E[1],P=function(){var n,t=(n=a().mark((function n(){var t,r,c;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s(f.M.LOADING),n.next=5,(0,h.u)({from:null===(t=e.account)||void 0===t?void 0:t.addressId,gas:l.pl});case 5:return r=n.sent,n.next=8,r.methods.createProperty(b,Z,k,O).send();case 8:c=n.sent,j(JSON.stringify(c)),s(f.M.SUCCESS),n.next=18;break;case 13:n.prev=13,n.t0=n.catch(0),console.error(n.t0),s(f.M.ERROR),y(n.t0.message);case 18:case"end":return n.stop()}}),n,null,[[0,13]])})),function(){var e=this,t=arguments;return new Promise((function(r,s){var a=n.apply(e,t);function c(e){x(a,r,s,c,i,"next",e)}function i(e){x(a,r,s,c,i,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}(),L=(0,c.useMemo)((function(){switch(t){case f.M.LOADING:return"Waiting...";case f.M.ERROR:return"Try Again";default:return"Create Property"}}),[t]);return(0,r.jsxs)(i.Z,{variant:"secondary",children:[(0,r.jsx)(i.Z.Heading,{children:"Create Property"}),(0,r.jsx)("p",{children:"Create a new property to be listed in the marketplace."}),(0,r.jsxs)(o.Z,{children:[(0,r.jsxs)(o.Z.Group,{className:"mb-3",controlId:"addressId",children:[(0,r.jsx)(o.Z.Label,{children:"Property Price:"}),(0,r.jsx)(o.Z.Control,{type:"number",value:b,onChange:function(e){return C(Number(e.target.value))}})]}),(0,r.jsxs)(o.Z.Group,{className:"mb-3",controlId:"addressId",children:[(0,r.jsx)(o.Z.Label,{children:"Listing ID:"}),(0,r.jsx)(o.Z.Control,{type:"text",value:Z,onChange:function(e){return S(e.target.value)}})]}),(0,r.jsxs)(o.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,r.jsx)(o.Z.Label,{children:"Pin Code:"}),(0,r.jsx)(o.Z.Control,{type:"text",value:k,onChange:function(e){return M(e.target.value)}})]}),(0,r.jsxs)(o.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,r.jsx)(o.Z.Label,{children:"Property Shares Supply:"}),(0,r.jsx)(o.Z.Control,{type:"number",value:O,onChange:function(e){return I(Number(e.target.value))}})]})]}),v&&(0,r.jsxs)("p",{className:"text-break",children:["Message received: ",(0,r.jsx)("b",{children:v})]}),(0,r.jsx)("hr",{}),t===f.M.ERROR&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"text-danger",children:"Oops! Something went wrong..."}),(0,r.jsx)("p",{className:"text-danger",children:g})]}),(0,r.jsx)("div",{className:"d-flex justify-content-end",children:(0,r.jsx)(u.Z,{variant:"secondary",onClick:P,disabled:t===f.M.LOADING,children:L})})]})}var v=t(11337);function j(e,n,t,r,s,a,c){try{var i=e[a](c),o=i.value}catch(u){return void t(u)}i.done?n(o):Promise.resolve(o).then(r,s)}function m(e){return function(){var n=this,t=arguments;return new Promise((function(r,s){var a=e.apply(n,t);function c(e){j(a,r,s,c,i,"next",e)}function i(e){j(a,r,s,c,i,"throw",e)}c(void 0)}))}}function g(){var e=(0,c.useContext)(d.Z),n=(0,c.useState)(f.M.DEFAULT),t=n[0],s=n[1],o=(0,c.useState)(0),u=o[0],l=o[1],x=(0,c.useState)(!1),p=x[0],v=x[1],j=(0,c.useState)(""),g=j[0],y=j[1],w=function(){var n=m(a().mark((function n(){var t,r,c,i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s(f.M.LOADING),n.next=5,(0,h.u)();case 5:return r=n.sent,c=null===(t=e.account)||void 0===t?void 0:t.addressId,n.next=9,r.methods.balanceOf(c).call();case 9:i=n.sent,l(i||0),v(!0),s(f.M.SUCCESS),n.next=20;break;case 15:n.prev=15,n.t0=n.catch(0),console.error(n.t0),s(f.M.ERROR),y(n.t0.message);case 20:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(){return n.apply(this,arguments)}}(),b=function(){var e=m(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.u)();case 2:e.sent.events.Transfer({filter:{value:[]},fromBlock:0}).on("data",w);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){w(),b()}),[]),(0,r.jsxs)(i.Z,{variant:"secondary",children:[(0,r.jsx)(i.Z.Heading,{children:"Property Shares"}),(0,r.jsxs)("p",{className:"text-break",children:["Balance: ",(0,r.jsx)("b",{children:p?u:"----"})]}),t===f.M.ERROR&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"text-danger",children:"Oops! Something went wrong..."}),(0,r.jsx)("p",{className:"text-danger",children:g})]})]})}var y=t(90885);function w(e,n,t,r,s,a,c){try{var i=e[a](c),o=i.value}catch(u){return void t(u)}i.done?n(o):Promise.resolve(o).then(r,s)}function b(){var e=(0,y.MK)(),n=(0,c.useState)(f.M.DEFAULT),t=n[0],s=n[1],d=(0,c.useState)(""),x=d[0],p=d[1],v=(0,c.useState)(""),j=v[0],m=v[1],g=(0,c.useState)(0),b=g[0],C=g[1],N=function(){var n,t=(n=a().mark((function n(){var t,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s(f.M.LOADING),p(""),m(""),n.next=6,(0,h.u)({from:e,gas:l.pl});case 6:return t=n.sent,n.next=9,t.methods.releaseDividend().send({value:b,gas:5e4});case 9:r=n.sent,C(0),p(JSON.stringify(r)),s(f.M.SUCCESS),n.next=20;break;case 15:n.prev=15,n.t0=n.catch(0),console.error(n.t0),s(f.M.ERROR),m(n.t0.message);case 20:case"end":return n.stop()}}),n,null,[[0,15]])})),function(){var e=this,t=arguments;return new Promise((function(r,s){var a=n.apply(e,t);function c(e){w(a,r,s,c,i,"next",e)}function i(e){w(a,r,s,c,i,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}(),Z=(0,c.useMemo)((function(){switch(t){case f.M.LOADING:return"Waiting...";case f.M.ERROR:return"Try Again";default:return"Release Dividends"}}),[t]);return(0,r.jsxs)(i.Z,{variant:"secondary",children:[(0,r.jsx)(i.Z.Heading,{children:"Release Dividends"}),(0,r.jsx)("p",{children:"Release dividends to existing property share holders."}),(0,r.jsx)(o.Z,{children:(0,r.jsxs)(o.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,r.jsx)(o.Z.Label,{children:"Dividend amount:"}),(0,r.jsx)(o.Z.Control,{type:"number",value:b,onChange:function(e){return C(Number(e.target.value))}})]})}),x&&(0,r.jsxs)("p",{className:"text-break",children:["Message received: ",(0,r.jsx)("b",{children:x})]}),(0,r.jsx)("hr",{}),t===f.M.ERROR&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"text-danger",children:"Oops! Something went wrong..."}),(0,r.jsx)("p",{className:"text-danger text-break",children:j})]}),(0,r.jsx)("div",{className:"d-flex justify-content-end",children:(0,r.jsx)(u.Z,{variant:"secondary",onClick:N,disabled:t===f.M.LOADING,children:Z})})]})}function C(e,n,t,r,s,a,c){try{var i=e[a](c),o=i.value}catch(u){return void t(u)}i.done?n(o):Promise.resolve(o).then(r,s)}function N(){var e=(0,c.useContext)(d.Z),n=(0,c.useState)(f.M.DEFAULT),t=n[0],s=n[1],x=(0,c.useState)(""),p=x[0],v=x[1],j=(0,c.useState)(""),m=j[0],g=j[1],y=(0,c.useState)(""),w=y[0],b=y[1],N=(0,c.useState)(""),Z=N[0],S=N[1],R=(0,c.useState)(0),k=R[0],M=R[1],E=function(){var n,t=(n=a().mark((function n(){var t,r,c;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s(f.M.LOADING),v(""),g(""),n.next=7,(0,h.u)({from:null===(t=e.account)||void 0===t?void 0:t.addressId,gas:l.pl});case 7:return r=n.sent,n.next=10,r.methods.transferToken(Z,k,w).send();case 10:c=n.sent,b(""),S(""),M(0),v(JSON.stringify(c)),s(f.M.SUCCESS),n.next=23;break;case 18:n.prev=18,n.t0=n.catch(0),console.error(n.t0),s(f.M.ERROR),g(n.t0.message);case 23:case"end":return n.stop()}}),n,null,[[0,18]])})),function(){var e=this,t=arguments;return new Promise((function(r,s){var a=n.apply(e,t);function c(e){C(a,r,s,c,i,"next",e)}function i(e){C(a,r,s,c,i,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}(),O=(0,c.useMemo)((function(){switch(t){case f.M.LOADING:return"Waiting...";case f.M.ERROR:return"Try Again";default:return"Transfer Property Shares"}}),[t]);return(0,r.jsxs)(i.Z,{variant:"secondary",children:[(0,r.jsx)(i.Z.Heading,{children:"Transfer Property Shares"}),(0,r.jsx)("p",{children:"Transfer your shares from your existing properties to another owner."}),(0,r.jsx)("p",{children:(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{children:["Arijit's wallet address -"," ",(0,r.jsx)("b",{children:"0x6F529b138Eb5d99ff8b2691BCBF0129a5dAe7679"})]}),(0,r.jsxs)("li",{children:["Ketan's wallet address -"," ",(0,r.jsx)("b",{children:"0xe31058855f1b75f52498d4004C6fb3d3D4F06C5A"})]}),(0,r.jsxs)("li",{children:["Sud's wallet address -"," ",(0,r.jsx)("b",{children:"0xe20517bdef7b9dE86225dA8ACd981fa992974729"})]})]})}),(0,r.jsxs)(o.Z,{children:[(0,r.jsxs)(o.Z.Group,{className:"mb-3",controlId:"addressId",children:[(0,r.jsx)(o.Z.Label,{children:"Listing ID:"}),(0,r.jsx)(o.Z.Control,{type:"text",value:w,onChange:function(e){return b(e.target.value)}})]}),(0,r.jsxs)(o.Z.Group,{className:"mb-3",controlId:"addressId",children:[(0,r.jsx)(o.Z.Label,{children:"Transfer to:"}),(0,r.jsx)(o.Z.Control,{type:"text",value:Z,onChange:function(e){return S(e.target.value)}})]}),(0,r.jsxs)(o.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,r.jsx)(o.Z.Label,{children:"Transfer amount / Quantity of shares:"}),(0,r.jsx)(o.Z.Control,{type:"number",value:k,onChange:function(e){return M(Number(e.target.value))}})]})]}),p&&(0,r.jsxs)("p",{className:"text-break",children:["Message received: ",(0,r.jsx)("b",{children:p})]}),(0,r.jsx)("hr",{}),t===f.M.ERROR&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"text-danger",children:"Oops! Something went wrong..."}),(0,r.jsx)("p",{className:"text-danger text-break",children:m})]}),(0,r.jsx)("div",{className:"d-flex justify-content-end",children:(0,r.jsx)(u.Z,{variant:"secondary",onClick:E,disabled:t===f.M.LOADING,children:O})})]})}var Z=t(41664),S=t.n(Z);function R(){var e=(0,c.useContext)(d.Z).account;return(0,r.jsx)("div",{children:(0,r.jsxs)(i.Z,{variant:"success",children:[(0,r.jsx)(i.Z.Heading,{children:"Welcome!"}),(0,r.jsx)("p",{children:"Please can now browse and buy properties in our marketplace."}),(0,r.jsxs)("p",{children:["Your wallet address is: ",(0,r.jsx)("b",{children:null===e||void 0===e?void 0:e.addressId})]}),(0,r.jsxs)("p",{children:["Property token smart contract address: ",(0,r.jsx)("b",{children:l.ez})]}),(0,r.jsx)("hr",{}),(0,r.jsx)("div",{className:"d-flex justify-content-end",children:(0,r.jsx)(S(),{href:f.Z5.PROPERTIES,passHref:!0,children:(0,r.jsx)(u.Z,{variant:"outline-success",children:"Browse Properties"})})})]})})}function k(){return(0,r.jsxs)(v.Z,{children:[(0,r.jsx)(R,{}),(0,r.jsx)(g,{}),(0,r.jsx)(p,{}),(0,r.jsx)(N,{}),(0,r.jsx)(b,{})]})}}},function(e){e.O(0,[6,774,888,179],(function(){return n=89208,e(e.s=n);var n}));var n=e.O();_N_E=n}]);